<td-layout #layout>
  <td-navigation-drawer logo="assets:covalent"
                        sidenavTitle="Chat"
                        name="Firstname Lastname"
                        email="firstname.lastname@company.com">
    <mat-nav-list>
      <ng-template let-item
                   let-last="last"
                   let-index="index"
                   ngFor
                   [ngForOf]="[0,1,2,3,4,5]">
        <a mat-list-item
           (click)="layout.close()">
          <mat-icon>group</mat-icon>
          Team {{index}}</a>
      </ng-template>
    </mat-nav-list>
    <mat-nav-list td-navigation-drawer-menu>
      <a mat-list-item
         (click)="logout()">
        <mat-icon>exit_to_app</mat-icon>
        Sign out</a>
    </mat-nav-list>
  </td-navigation-drawer>
  <td-layout-nav-list #navList
                      [sidenavWidth]="'240px'">
    <button mat-icon-button
            td-menu-button
            tdLayoutToggle>
      <mat-icon>menu</mat-icon>
    </button>
    <div td-sidenav-toolbar-content
         layout="row"
         flex>
      <div>
        <button mat-button
                [matMenuTriggerFor]="menu">Team Name
          <mat-icon>arrow_drop_down</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item>Set a status</button>
          <button mat-menu-item>Profile &amp; account</button>
          <button mat-menu-item>Preferences</button>
          <button mat-menu-item>Set yourself to away</button>
          <button mat-menu-item>Help &amp; feedback</button>
        </mat-menu>
      </div>
      <span flex></span>
      <div>
        <button mat-icon-button
                [matMenuTriggerFor]="notifyMenu">
          <mat-icon>notifications_off</mat-icon>
        </button>
        <mat-menu #notifyMenu="matMenu"
                  x-position="before">
          <button mat-menu-item>Do not disturb ON</button>
          <button mat-menu-item>Turn OFF</button>
          <button mat-menu-item>Adjust schedule...</button>
          <mat-divider></mat-divider>
          <button mat-menu-item>Settings for #channel</button>
          <button mat-menu-item>Notifications preferences...</button>
        </mat-menu>
      </div>
    </div>
    <mat-nav-list td-sidenav-content
                  class="bgc-purple-900"
                  (click)="!media.query('gt-sm') && navList.close()">
      <a mat-list-item
         class="tc-white">
        <mat-icon class="tc-white"
                  matListIcon>sort
        </mat-icon>
        All Unreads</a>
      <a mat-list-item
         class="tc-white">
        <mat-icon class="tc-white"
                  matListIcon>chat
        </mat-icon>
        All Threads</a>
      <mat-divider></mat-divider>
      <h3 mat-subheader
          class="tc-white">STARRED</h3>
      <ng-template let-item
                   let-i="index"
                   let-last="last"
                   ngFor
                   [ngForOf]="[0,1]">
        <a mat-list-item
           class="tc-white">
          <mat-icon class="tc-white"
                    matListIcon>forum
          </mat-icon>
          starred-channel-{{i}}</a>
      </ng-template>
      <mat-divider></mat-divider>
      <h3 mat-subheader
          class="tc-white">CHANNELS (5)</h3>
      <ng-template let-item
                   let-i="index"
                   let-last="last"
                   ngFor
                   [ngForOf]="[0,1,2,3]">
        <a mat-list-item
           class="tc-white">
          <mat-icon class="tc-white"
                    matListIcon>forum
          </mat-icon>
          channel-name-{{i}}</a>
      </ng-template>
      <mat-divider></mat-divider>
      <h3 mat-subheader
          class="tc-white">DIRECT MESSAGES</h3>
      <ng-template let-item
                   let-i="index"
                   let-last="last"
                   ngFor
                   [ngForOf]="[0,1,2,3,4,5]">
        <a mat-list-item
           class="tc-white">
          <mat-icon color="accent"
                    matListIcon>lens
          </mat-icon>
          username{{i}}</a>
      </ng-template>
    </mat-nav-list>
    <div td-toolbar-content
         layout="row"
         layout-align="start center"
         flex>
      <div flex>
        <div [matMenuTriggerFor]="channelMenu"
             class="cursor-hover pull-bottom-sm">#channel
        </div>
        <mat-menu #channelMenu="matMenu">
          <button mat-menu-item>Jump to date...</button>
          <button mat-menu-item>Invite team members to join...</button>
          <button mat-menu-item>View channel details</button>
          <button mat-menu-item>Additional options...</button>
          <mat-divider></mat-divider>
          <button mat-menu-item>Notification preferences</button>
          <button mat-menu-item>Mute #channel</button>
          <mat-divider></mat-divider>
          <button mat-menu-item>Add an app or integration</button>
          <mat-divider></mat-divider>
          <button mat-menu-item>Leave #channel</button>
        </mat-menu>
        <div layout="row"
             layout-align="start center">
          <mat-icon class="md-caption">star</mat-icon>
          <mat-icon class="md-caption push-left-sm">person</mat-icon>
          <span class="md-caption">94</span>
          <mat-icon class="md-caption push-left-sm">note</mat-icon>
          <span class="md-caption">12</span>
          <span class="md-caption push-left-sm">channel description</span>
        </div>
      </div>
      <!--<button mat-icon-button
              matTooltip="Call"
              [style.margin]="'0 -5px'">
        <mat-icon>phone</mat-icon>
      </button>-->
      <button mat-icon-button
              matTooltip="Show conversation details"
              [style.margin]="'0 -5px'"
              (click)="channelInfo.toggle()">
        <mat-icon>info</mat-icon>
      </button>
      <!--<button mat-icon-button
              matTooltip="Conversation settings"
              [style.margin]="'0 -5px'">
        <mat-icon>settings</mat-icon>
      </button>
      <mat-card flex="20">
        <td-search-box [alwaysVisible]="true"
                       #searchBox
                       placeholder="Search"
                       [showUnderline]="false"></td-search-box>
      </mat-card>
      <button mat-icon-button
              matTooltip="Show activity"
              [style.margin]="'0 -5px'">
        <mat-icon>@</mat-icon>
      </button>
      <button mat-icon-button
              matTooltip="Show starred items"
              [style.margin]="'0 -5px'">
        <mat-icon>star_border</mat-icon>
      </button>
      <button mat-icon-button
              matTooltip="More items"
              [style.margin]="'0 -5px'">
        <mat-icon>more_vert</mat-icon>
      </button>-->
    </div>
    <mat-sidenav-container fullscreen>
      <mat-sidenav #channelInfo
                   mode="side"
                   position="end"
                   [opened]="true"
                   [style.width.px]="270">
        <div layout="column"
             layout-fill>
          <mat-toolbar>
            <span class="md-subhead">About #channel</span>
            <span flex></span>
            <button mat-icon-button
                    (click)="channelInfo.toggle()">
              <mat-icon>clear</mat-icon>
            </button>
          </mat-toolbar>
          <td-expansion-panel [expand]="true">
            <ng-template td-expansion-panel-label>
              <mat-icon class="tc-grey-600">info_outline</mat-icon>
              <span>Channel Details</span>
            </ng-template>
            <div>
              <mat-list dense>
                <h3 matSubheader>Workspaces</h3>
                <ng-template let-item
                             let-i="index"
                             let-last="last"
                             ngFor
                             [ngForOf]="[0,1]">
                  <mat-list-item>
                    <mat-icon matListIcon>business</mat-icon>
                    <h3 matLine>Workspace name {{i + 1}}</h3>
                    <p matLine>152 members</p>
                  </mat-list-item>
                </ng-template>
                <h3 matSubheader>Purpose</h3>
                <mat-list-item>
                  <h3 matLine>Channel purpose here</h3>
                </mat-list-item>
                <h3 matSubheader>Created</h3>
                <mat-list-item>
                  <h3 matLine>Created by John Jameson on May 11, 2017</h3>
                </mat-list-item>
              </mat-list>
            </div>
          </td-expansion-panel>
          <td-expansion-panel>
            <ng-template td-expansion-panel-label>
              <mat-icon class="tc-light-blue-600">flare</mat-icon>
              <span>Highlights</span>
            </ng-template>
            <div class="pad-sm md-caption">
              Nothing yet. When this channel gets a bit more active, check back here.
            </div>
          </td-expansion-panel>
          <td-expansion-panel>
            <ng-template td-expansion-panel-label>
              <mat-icon class="tc-green-600">person_outline</mat-icon>
              <span>94 Members</span>
            </ng-template>
            <div>
              <mat-list dense>
                <ng-template let-item
                             let-i="index"
                             let-last="last"
                             ngFor
                             [ngForOf]="[0,1,2,3,4,5]">
                  <a mat-list-item>
                    <mat-icon color="accent"
                              matListIcon>lens
                    </mat-icon>
                    <span layout="row"
                          layout-align="start center">
                      <img class="size-16 push-right-sm"
                           src="https://api.adorable.io/avatars/285/{{i}}@adorable.io.png"/> username{{i}}</span>
                  </a>
                </ng-template>
              </mat-list>
            </div>
          </td-expansion-panel>
        </div>
      </mat-sidenav>
      <div layout="column"
           layout-fill>
        <div flex
             class="mat-content">
          <mat-card tdMediaToggle="gt-xs"
                    [mediaClasses]="['push-sm']">
            <mat-list>
              <ng-template let-item
                           let-i="index"
                           let-last="last"
                           ngFor
                           [ngForOf]="[0,1,2,3,4,5,6,7,8,9]">
                <mat-list-item class="pad-top pad-bottom">
                  <img matListAvatar
                       src="https://api.adorable.io/avatars/285/{{i}}@adorable.io.png"/>
                  <h3 matLine
                      class="cursor-pointer"> Firstname Lastname <span class="tc-grey-500 md-caption">11:24 AM</span>
                  </h3>
                  <div matLine>
                    <div class="text-wrap">
                      {{ 'Farm-to-table poke distillery, bushwick messenger bag vaporware neutra artisan paleo. Single-origin coffee shabby chic glossier lumberjack chambray dreamcatcher, blue bottle raclette.' | truncate:200 }}
                    </div>
                  </div>
                </mat-list-item>
                <!--<mat-divider *ngIf="!last"
                             mat-inset></mat-divider>-->
              </ng-template>
            </mat-list>
          </mat-card>
        </div>
        <mat-card>
          <div layout="row"
               layout-align="start center">
            <div>
              <button mat-icon-button
                      matTooltip="Add content"
                      matTooltipPosition="after"
                      [matMenuTriggerFor]="chatMenu">
                <mat-icon>add</mat-icon>
              </button>
              <mat-menu #chatMenu="matMenu">
                <button mat-menu-item>Code or text snippet</button>
                <button mat-menu-item>Google Docs file</button>
                <button mat-menu-item>Post</button>
                <button mat-menu-item>Google Drive</button>
                <button mat-menu-item>Upload file</button>
              </mat-menu>
            </div>
            <mat-form-field class="push-left push-right"
                            flex
                            layout="row"
                            floatPlaceholder="never">
              <textarea flex
                        matInput
                        placeholder="message"></textarea>
            </mat-form-field>
            <div>
              <button mat-icon-button
                      matTooltip="Add emoji"
                      matTooltipPosition="before"
                      [matMenuTriggerFor]="emojiMenu">
                <mat-icon>sentiment_very_satisfied</mat-icon>
              </button>
              <mat-menu #emojiMenu="matMenu"
                        x-position="before">
                <td-menu>
                  <div td-menu-header>
                    <mat-button-toggle>
                      <mat-icon>access_time</mat-icon>
                    </mat-button-toggle>
                    <mat-button-toggle>
                      <mat-icon>sentiment_very_satisfied</mat-icon>
                    </mat-button-toggle>
                    <mat-button-toggle>
                      <mat-icon>spa</mat-icon>
                    </mat-button-toggle>
                    <mat-button-toggle>
                      <mat-icon>room_service</mat-icon>
                    </mat-button-toggle>
                  </div>
                  <div style="height:200px;"
                       class="push">
                    <div layout="row"
                         layout-wrap>
                      <button flex="20"
                              mat-icon-button>
                        <mat-icon>mood</mat-icon>
                      </button>
                      <button flex="20"
                              mat-icon-button>
                        <mat-icon>mood_bad</mat-icon>
                      </button>
                      <button flex="20"
                              mat-icon-button>
                        <mat-icon>sentiment_dissatisfied</mat-icon>
                      </button>
                      <button flex="20"
                              mat-icon-button>
                        <mat-icon>sentiment_neutral</mat-icon>
                      </button>
                      <button flex="20"
                              mat-icon-button>
                        <mat-icon>sentiment_satisfied</mat-icon>
                      </button>
                      <button flex="20"
                              mat-icon-button>
                        <mat-icon>sentiment_very_dissatisfied</mat-icon>
                      </button>
                      <button flex="20"
                              mat-icon-button>
                        <mat-icon>sentiment_very_satisfied</mat-icon>
                      </button>
                      <button flex="20"
                              mat-icon-button>
                        <mat-icon>whatshot</mat-icon>
                      </button>
                      <button flex="20"
                              mat-icon-button>
                        <mat-icon>face</mat-icon>
                      </button>
                      <button flex="20"
                              mat-icon-button>
                        <mat-icon>pan_tool</mat-icon>
                      </button>
                      <button flex="20"
                              mat-icon-button>
                        <mat-icon>pregnant_woman</mat-icon>
                      </button>
                      <button flex="20"
                              mat-icon-button>
                        <mat-icon>pets</mat-icon>
                      </button>
                      <button flex="20"
                              mat-icon-button>
                        <mat-icon>rowing</mat-icon>
                      </button>
                      <button flex="20"
                              mat-icon-button>
                        <mat-icon>touch_app</mat-icon>
                      </button>
                      <button flex="20"
                              mat-icon-button>
                        <mat-icon>visibility_off</mat-icon>
                      </button>
                    </div>
                  </div>
                  <div td-menu-footer>
                    <div layout="row"
                         layout-align="center center"
                         class="push-sm">
                      <span class="mat-subhead">Emoji Deluxe</span>
                      <span flex></span>
                      <span>:happy:</span>
                      <mat-icon>sentiment_very_satisfied</mat-icon>
                    </div>
                  </div>
                </td-menu>
              </mat-menu>
            </div>
          </div>
        </mat-card>
      </div>
    </mat-sidenav-container>
  </td-layout-nav-list>
</td-layout>
